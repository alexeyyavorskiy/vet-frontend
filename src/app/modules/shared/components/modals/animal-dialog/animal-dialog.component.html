<h1 mat-dialog-title>{{data.animal ? 'Update' : 'Create new'}} Animal</h1>
<form [formGroup]="form">
  <div class="col-6">
    <mat-form-field appearance="fill" class="w-100">
      <mat-label>Enter birthDay</mat-label>
      <input matInput formControlName="birthDay" [matDatepicker]="picker">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="form.controls['birthDay']?.errors?.required">
        BirthDay is required
      </mat-error>
    </mat-form-field>
    <mat-form-field *ngIf="!data.isPet" appearance="fill" class="w-100">
      <mat-label>Enter trackingId</mat-label>
      <input matInput formControlName="trackingId" type="number">
      <mat-error *ngIf="form.controls['trackingId']?.errors?.required">
        TrackingId is required
      </mat-error>
    </mat-form-field>
  </div>
  <div class="col-6 mb-3">
    <mat-checkbox class="example-margin" formControlName="vaccinated">Vaccinated</mat-checkbox>
    <mat-error *ngIf="form.controls['vaccinated']?.errors?.required">
      Field is required
    </mat-error>
  </div>
  <div [formGroup]="speciesForm">
    <div class="container-fluid p-0">
      <div class="row">
        <div class="col-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Enter species</mat-label>
            <input matInput formControlName="label">
            <mat-error *ngIf="speciesForm.controls['label']?.errors?.required">
              Species is required
            </mat-error>
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="data.isPet" [formGroup]="ownerForm">
    <div class="container-fluid mb-4 p-0">
      <div class="row">
        <div class="col-6">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Enter your full name</mat-label>
            <input matInput formControlName="fullName">
            <mat-error *ngIf="ownerForm.controls['fullName']?.errors?.required">
              Full name is required
            </mat-error>
          </mat-form-field>
        </div>
        <div [formGroup]="addressForm">
          <div class="col-6">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Enter your country</mat-label>
              <input matInput formControlName="country">
              <mat-error *ngIf="addressForm.controls['country']?.errors?.required">
                Country is required
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Enter your city</mat-label>
              <input matInput formControlName="city">
              <mat-error *ngIf="addressForm.controls['city']?.errors?.required">
                City is required
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Enter your street</mat-label>
              <input matInput formControlName="street">
              <mat-error *ngIf="addressForm.controls['street']?.errors?.required">
                Street is required
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-6">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Enter your Zip code</mat-label>
              <input matInput formControlName="zipCode">
              <mat-error *ngIf="addressForm.controls['zipCode']?.errors?.required">
                Zip code is required
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-button
            type="button"
            (click)="submit()"
            [disabled]="!form.valid"
            color="primary">
      {{data.animal ? 'Update' : 'Create'}}
    </button>
    <button mat-button mat-dialog-close>Cancel</button>
  </div>
  <mat-dialog-actions *ngIf="isLoading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </mat-dialog-actions>
</form>

